{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAOC,SAASC,cAAc,SAC9BC,EAAaF,SAASC,cAAc,gBACpCE,EAAYH,SAASC,cAAc,eACnCG,EAAcJ,SAASC,cAAc,iBA4B3C,SAASI,EAAcC,EAAUC,GAChC,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC5B,MAAMC,EAAgBC,KAAKC,SAAW,GACtCC,YAAW,KACNH,EACHF,EAAQ,C,SAAEH,E,MAAUC,IAEpBG,EAAO,C,SAAEJ,E,MAAUC,GAAM,GAExBA,EAAA,GAEL,CAbAR,EAAKgB,iBAAiB,UAxBJC,IAEjB,GADAA,EAAMC,iBACFf,EAAWgB,MAAQ,GAAKf,EAAUe,MAAQ,GAAKd,EAAYc,MAAQ,EACtEC,EAAAtB,GAASuB,OAAOC,QAAQ,kDAExB,IAAK,IAAIC,EAAQ,EAAGA,EAAQlB,EAAYc,MAAOI,IAAS,CAIvDjB,EAHeiB,EAAQ,EAEtBC,KAAKC,MAAMtB,EAAWgB,OAASK,KAAKC,MAAMrB,EAAUe,OAASI,GAE5DG,MAAK,EAACnB,SAAEA,EAAQC,MAAEA,MAClBY,EAAAtB,GAASuB,OAAOM,QACf,uBAAuBpB,QAAeC,MAAS,IAGhDoB,OAAM,EAACrB,SAAEA,EAAQC,MAAEA,MACnBY,EAAAtB,GAASuB,OAAOQ,QACf,sBAAsBtB,QAAeC,MAAS,GAGlD","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from \"notiflix\";\n\nconst form = document.querySelector(\".form\");\nconst inputDelay = document.querySelector(\"[name=delay]\");\nconst inputStep = document.querySelector(\"[name=step]\");\nconst inputAmount = document.querySelector(\"[name=amount]\");\n\nconst onSubmit = (event) => {\n\tevent.preventDefault();\n\tif (inputDelay.value < 0 || inputStep.value < 0 || inputAmount.value < 0) {\n\t\tNotiflix.Notify.warning(\"❗Error. Please enter number higher than 0\");\n\t} else {\n\t\tfor (let index = 0; index < inputAmount.value; index++) {\n\t\t\tlet position = index + 1;\n\t\t\tconst delay =\n\t\t\t\tJSON.parse(inputDelay.value) + JSON.parse(inputStep.value) * index;\n\t\t\tcreatePromise(position, delay)\n\t\t\t\t.then(({ position, delay }) => {\n\t\t\t\t\tNotiflix.Notify.success(\n\t\t\t\t\t\t`✅ Fulfilled promise ${position} in ${delay}ms`,\n\t\t\t\t\t);\n\t\t\t\t})\n\t\t\t\t.catch(({ position, delay }) => {\n\t\t\t\t\tNotiflix.Notify.failure(\n\t\t\t\t\t\t`❌ Rejected promise ${position} in ${delay}ms`,\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t}\n\t}\n};\n\nform.addEventListener(\"submit\", onSubmit);\n\nfunction createPromise(position, delay) {\n\treturn new Promise((resolve, reject) => {\n\t\tconst shouldResolve = Math.random() > 0.3;\n\t\tsetTimeout(() => {\n\t\t\tif (shouldResolve) {\n\t\t\t\tresolve({ position, delay });\n\t\t\t} else {\n\t\t\t\treject({ position, delay });\n\t\t\t}\n\t\t}, delay);\n\t});\n}\n//"],"names":["$7Y9D8","parcelRequire","$47d4ff9957288465$var$form","document","querySelector","$47d4ff9957288465$var$inputDelay","$47d4ff9957288465$var$inputStep","$47d4ff9957288465$var$inputAmount","$47d4ff9957288465$var$createPromise","position","delay","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","addEventListener","event","preventDefault","value","$parcel$interopDefault","Notify","warning","index","JSON","parse","then","success","catch","failure"],"version":3,"file":"03-promises.5bfc42e7.js.map"}